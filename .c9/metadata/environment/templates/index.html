{"filter":false,"title":"index.html","tooltip":"/templates/index.html","undoManager":{"mark":24,"position":24,"stack":[[{"start":{"row":0,"column":0},"end":{"row":102,"column":7},"action":"remove","lines":["<!DOCTYPE html>","<html>","<head>","    <title>Lista de Arquivos Processados</title>","    <style>","        body { font-family: Arial, sans-serif; margin: 20px; }","        table { width: 100%; border-collapse: collapse; }","        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }","        th { background-color: #f2f2f2; }","        thumbnail { max-width: 100px; max-height: 100px; }","    </style>","    <!-- Load AWS SDK first -->","    <script src=\"https://sdk.amazonaws.com/js/aws-sdk-2.939.0.min.js\"></script>","</head>","<body>","    <h1>Arquivos Processados</h1>","    <table id=\"filesTable\">","        <thead>","            <tr>","                <th>ID</th>","                <th>Nome</th>","                <th>Tipo</th>","                <th>Status</th>","                <th>Miniatura</th>","                <th>A√ß√µes</th>","            </tr>","        </thead>","        <tbody></tbody>","    </table>","","    <script>","        // Configura√ß√µes AWS (substitua pelas suas)","        const AWS_CONFIG = {","            region: \"us-east-1\",","            identityPoolId: \"us-east-1:XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\", // Opcional: se usar Cognito","            bucketName: \"meu-projeto-uploads-12345\"","        };","","        // Initialize AWS SDK","        AWS.config.update({ region: AWS_CONFIG.region });","        ","        // Fun√ß√£o para listar arquivos do DynamoDB","        async function listFiles() {","            try {","                const dynamodb = new AWS.DynamoDB.DocumentClient();","                const params = {","                    TableName: \"FileMetadata\"","                };","                const data = await dynamodb.scan(params).promise();","                renderFiles(data.Items);","            } catch (error) {","                console.error(\"Erro ao buscar arquivos:\", error);","                alert(\"Falha ao carregar arquivos. Verifique o console.\");","            }","        }","","        // Renderiza os arquivos na tabela","        function renderFiles(files) {","            const tbody = document.querySelector(\"#filesTable tbody\");","            tbody.innerHTML = \"\";","","            files.forEach(file => {","                const row = document.createElement(\"tr\");","                ","                // Gera URL assinada para o arquivo (v√°lida por 15 minutos)","                const fileUrl = generateSignedUrl(file.s3Key);","                let thumbnailUrl = \"\";","                if (file.result?.thumbnailKey) {","                    thumbnailUrl = generateSignedUrl(file.result.thumbnailKey);","                }","","                row.innerHTML = `","                    <td>${file.fileId}</td>","                    <td>${file.fileName}</td>","                    <td>${file.fileType}</td>","                    <td>${file.status}</td>","                    <td>","                        ${thumbnailUrl ? `<img src=\"${thumbnailUrl}\" class=\"thumbnail\">` : \"N/A\"}","                    </td>","                    <td>","                        <a href=\"${fileUrl}\" target=\"_blank\">Download</a>","                    </td>","                `;","                tbody.appendChild(row);","            });","        }","","        // Gera URL pr√©-assinada para acesso tempor√°rio","        function generateSignedUrl(key) {","            const s3 = new AWS.S3();","            const params = {","                Bucket: AWS_CONFIG.bucketName,","                Key: key,","                Expires: 900 // 15 minutos","            };","            return s3.getSignedUrl(\"getObject\", params);","        }","","        // Carrega os dados quando a p√°gina abre","        document.addEventListener(\"DOMContentLoaded\", listFiles);","    </script>","</body>","</html>"],"id":5},{"start":{"row":0,"column":0},"end":{"row":16,"column":0},"action":"insert","lines":["<!DOCTYPE html>","<html lang=\"en\">","<head>","    <meta charset=\"UTF-8\">","    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">","    <title>Listar Arquivos do S3</title>","</head>","<body>","    <h1>Arquivos no S3</h1>","    <ul>","        {% for file in files %}","            <li>{{ file }}</li>","        {% endfor %}","    </ul>","</body>","</html>",""]}],[{"start":{"row":0,"column":0},"end":{"row":16,"column":0},"action":"remove","lines":["<!DOCTYPE html>","<html lang=\"en\">","<head>","    <meta charset=\"UTF-8\">","    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">","    <title>Listar Arquivos do S3</title>","</head>","<body>","    <h1>Arquivos no S3</h1>","    <ul>","        {% for file in files %}","            <li>{{ file }}</li>","        {% endfor %}","    </ul>","</body>","</html>",""],"id":6},{"start":{"row":0,"column":0},"end":{"row":19,"column":0},"action":"insert","lines":["<!DOCTYPE html>","<html>","<head>","    <title>Imagens do S3</title>","</head>","<body>","    <h1>Galeria de Imagens</h1>","    {% if files %}","        {% for file in files %}","            <div>","                <img src=\"https://{{ 'meu-site-galeria-imagens' }}.s3.amazonaws.com/{{ file }}\" width=\"300px\">","                <p>{{ file }}</p>","            </div>","        {% endfor %}","    {% else %}","        <p>Nenhuma imagem encontrada.</p>","    {% endif %}","</body>","</html>",""]}],[{"start":{"row":0,"column":0},"end":{"row":19,"column":0},"action":"remove","lines":["<!DOCTYPE html>","<html>","<head>","    <title>Imagens do S3</title>","</head>","<body>","    <h1>Galeria de Imagens</h1>","    {% if files %}","        {% for file in files %}","            <div>","                <img src=\"https://{{ 'meu-site-galeria-imagens' }}.s3.amazonaws.com/{{ file }}\" width=\"300px\">","                <p>{{ file }}</p>","            </div>","        {% endfor %}","    {% else %}","        <p>Nenhuma imagem encontrada.</p>","    {% endif %}","</body>","</html>",""],"id":7},{"start":{"row":0,"column":0},"end":{"row":20,"column":0},"action":"insert","lines":["<!DOCTYPE html>","<html lang=\"pt-br\">","<head>","    <meta charset=\"UTF-8\">","    <title>Galeria de Imagens</title>","    <style>","        img {","            width: 300px;","            margin: 10px;","            border-radius: 8px;","        }","    </style>","</head>","<body>","    <h1>Minha Galeria</h1>","    {% for imagem in imagens %}","        <img src=\"{{ imagem }}\" alt=\"Imagem da galeria\">","    {% endfor %}","</body>","</html>",""]}],[{"start":{"row":0,"column":0},"end":{"row":20,"column":0},"action":"remove","lines":["<!DOCTYPE html>","<html lang=\"pt-br\">","<head>","    <meta charset=\"UTF-8\">","    <title>Galeria de Imagens</title>","    <style>","        img {","            width: 300px;","            margin: 10px;","            border-radius: 8px;","        }","    </style>","</head>","<body>","    <h1>Minha Galeria</h1>","    {% for imagem in imagens %}","        <img src=\"{{ imagem }}\" alt=\"Imagem da galeria\">","    {% endfor %}","</body>","</html>",""],"id":8},{"start":{"row":0,"column":0},"end":{"row":20,"column":0},"action":"insert","lines":["<!DOCTYPE html>","<html lang=\"pt-br\">","<head>","    <meta charset=\"UTF-8\">","    <title>Galeria de Imagens</title>","    <style>","        img {","            width: 300px;","            margin: 10px;","            border-radius: 8px;","        }","    </style>","</head>","<body>","    <h1>Minha Galeria</h1>","    {% for imagem in imagens %}","        <img src=\"{{ imagem }}\" alt=\"Imagem da galeria\">","    {% endfor %}","</body>","</html>",""]}],[{"start":{"row":0,"column":0},"end":{"row":20,"column":0},"action":"remove","lines":["<!DOCTYPE html>","<html lang=\"pt-br\">","<head>","    <meta charset=\"UTF-8\">","    <title>Galeria de Imagens</title>","    <style>","        img {","            width: 300px;","            margin: 10px;","            border-radius: 8px;","        }","    </style>","</head>","<body>","    <h1>Minha Galeria</h1>","    {% for imagem in imagens %}","        <img src=\"{{ imagem }}\" alt=\"Imagem da galeria\">","    {% endfor %}","</body>","</html>",""],"id":10},{"start":{"row":0,"column":0},"end":{"row":37,"column":0},"action":"insert","lines":["<!DOCTYPE html>","<html lang=\"en\">","<head>","    <meta charset=\"UTF-8\">","    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">","    <title>Galeria de Imagens</title>","</head>","<body>","    <h1>Galeria de Imagens</h1>","    <div id=\"gallery\">","        <!-- As imagens ser√£o inseridas aqui dinamicamente -->","    </div>","","    <script>","        // Fun√ß√£o para buscar as imagens","        async function fetchImages() {","            const response = await fetch('/get_images');","            const images = await response.json();","","            const gallery = document.getElementById('gallery');","","            // Adiciona cada imagem √† galeria","            images.forEach(imageUrl => {","                const img = document.createElement('img');","                img.src = imageUrl;","                img.alt = 'Imagem do S3';","                img.style.width = '200px';  // Ajuste do tamanho da imagem","                img.style.margin = '10px';  // Espa√ßamento entre as imagens","                gallery.appendChild(img);","            });","        }","","        // Chama a fun√ß√£o quando a p√°gina for carregada","        window.onload = fetchImages;","    </script>","</body>","</html>",""]}],[{"start":{"row":0,"column":0},"end":{"row":37,"column":0},"action":"remove","lines":["<!DOCTYPE html>","<html lang=\"en\">","<head>","    <meta charset=\"UTF-8\">","    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">","    <title>Galeria de Imagens</title>","</head>","<body>","    <h1>Galeria de Imagens</h1>","    <div id=\"gallery\">","        <!-- As imagens ser√£o inseridas aqui dinamicamente -->","    </div>","","    <script>","        // Fun√ß√£o para buscar as imagens","        async function fetchImages() {","            const response = await fetch('/get_images');","            const images = await response.json();","","            const gallery = document.getElementById('gallery');","","            // Adiciona cada imagem √† galeria","            images.forEach(imageUrl => {","                const img = document.createElement('img');","                img.src = imageUrl;","                img.alt = 'Imagem do S3';","                img.style.width = '200px';  // Ajuste do tamanho da imagem","                img.style.margin = '10px';  // Espa√ßamento entre as imagens","                gallery.appendChild(img);","            });","        }","","        // Chama a fun√ß√£o quando a p√°gina for carregada","        window.onload = fetchImages;","    </script>","</body>","</html>",""],"id":11},{"start":{"row":0,"column":0},"end":{"row":44,"column":0},"action":"insert","lines":["<!DOCTYPE html>","<html lang=\"en\">","<head>","    <meta charset=\"UTF-8\">","    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">","    <title>Galeria de Imagens</title>","</head>","<body>","    <h1>Galeria de Imagens</h1>","    <div id=\"gallery\">","        <!-- As imagens ser√£o inseridas aqui dinamicamente -->","    </div>","","    <script>","        // Fun√ß√£o para buscar as imagens","        async function fetchImages() {","            try {","                const response = await fetch('/get_images');","                if (!response.ok) {","                    throw new Error('Falha ao carregar imagens');","                }","                const images = await response.json();","","                const gallery = document.getElementById('gallery');","","                // Adiciona cada imagem √† galeria","                images.forEach(imageUrl => {","                    const img = document.createElement('img');","                    img.src = imageUrl;","                    img.alt = 'Imagem do S3';","                    img.style.width = '200px';  // Ajuste do tamanho da imagem","                    img.style.margin = '10px';  // Espa√ßamento entre as imagens","                    gallery.appendChild(img);","                });","            } catch (error) {","                console.error('Erro ao buscar imagens:', error);","            }","        }","","        // Chama a fun√ß√£o quando a p√°gina for carregada","        window.onload = fetchImages;","    </script>","</body>","</html>",""]}],[{"start":{"row":0,"column":0},"end":{"row":44,"column":0},"action":"remove","lines":["<!DOCTYPE html>","<html lang=\"en\">","<head>","    <meta charset=\"UTF-8\">","    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">","    <title>Galeria de Imagens</title>","</head>","<body>","    <h1>Galeria de Imagens</h1>","    <div id=\"gallery\">","        <!-- As imagens ser√£o inseridas aqui dinamicamente -->","    </div>","","    <script>","        // Fun√ß√£o para buscar as imagens","        async function fetchImages() {","            try {","                const response = await fetch('/get_images');","                if (!response.ok) {","                    throw new Error('Falha ao carregar imagens');","                }","                const images = await response.json();","","                const gallery = document.getElementById('gallery');","","                // Adiciona cada imagem √† galeria","                images.forEach(imageUrl => {","                    const img = document.createElement('img');","                    img.src = imageUrl;","                    img.alt = 'Imagem do S3';","                    img.style.width = '200px';  // Ajuste do tamanho da imagem","                    img.style.margin = '10px';  // Espa√ßamento entre as imagens","                    gallery.appendChild(img);","                });","            } catch (error) {","                console.error('Erro ao buscar imagens:', error);","            }","        }","","        // Chama a fun√ß√£o quando a p√°gina for carregada","        window.onload = fetchImages;","    </script>","</body>","</html>",""],"id":12},{"start":{"row":0,"column":0},"end":{"row":44,"column":0},"action":"insert","lines":["<!DOCTYPE html>","<html lang=\"en\">","<head>","    <meta charset=\"UTF-8\">","    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">","    <title>Galeria de Imagens</title>","</head>","<body>","    <h1>Galeria de Imagens</h1>","    <div id=\"gallery\">","        <!-- As imagens ser√£o inseridas aqui dinamicamente -->","    </div>","","    <script>","        // Fun√ß√£o para buscar as imagens","        async function fetchImages() {","            try {","                const response = await fetch('/get_images');","                const images = await response.json();","","                const gallery = document.getElementById('gallery');","","                // Limpar a galeria antes de adicionar as novas imagens","                gallery.innerHTML = '';","","                // Adiciona cada imagem √† galeria","                images.forEach(imageUrl => {","                    const img = document.createElement('img');","                    img.src = imageUrl;  // A URL da imagem","                    img.alt = 'Imagem do S3';","                    img.style.width = '200px';  // Ajuste do tamanho da imagem","                    img.style.margin = '10px';  // Espa√ßamento entre as imagens","                    gallery.appendChild(img);","                });","            } catch (error) {","                console.error('Erro ao carregar as imagens:', error);","            }","        }","","        // Chama a fun√ß√£o quando a p√°gina for carregada","        window.onload = fetchImages;","    </script>","</body>","</html>",""]}],[{"start":{"row":0,"column":0},"end":{"row":44,"column":0},"action":"remove","lines":["<!DOCTYPE html>","<html lang=\"en\">","<head>","    <meta charset=\"UTF-8\">","    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">","    <title>Galeria de Imagens</title>","</head>","<body>","    <h1>Galeria de Imagens</h1>","    <div id=\"gallery\">","        <!-- As imagens ser√£o inseridas aqui dinamicamente -->","    </div>","","    <script>","        // Fun√ß√£o para buscar as imagens","        async function fetchImages() {","            try {","                const response = await fetch('/get_images');","                const images = await response.json();","","                const gallery = document.getElementById('gallery');","","                // Limpar a galeria antes de adicionar as novas imagens","                gallery.innerHTML = '';","","                // Adiciona cada imagem √† galeria","                images.forEach(imageUrl => {","                    const img = document.createElement('img');","                    img.src = imageUrl;  // A URL da imagem","                    img.alt = 'Imagem do S3';","                    img.style.width = '200px';  // Ajuste do tamanho da imagem","                    img.style.margin = '10px';  // Espa√ßamento entre as imagens","                    gallery.appendChild(img);","                });","            } catch (error) {","                console.error('Erro ao carregar as imagens:', error);","            }","        }","","        // Chama a fun√ß√£o quando a p√°gina for carregada","        window.onload = fetchImages;","    </script>","</body>","</html>",""],"id":13},{"start":{"row":0,"column":0},"end":{"row":108,"column":0},"action":"insert","lines":["<!DOCTYPE html>","<html lang=\"pt-br\">","<head>","  <meta charset=\"UTF-8\" />","  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />","  <title>Galeria de Boletos - S3</title>","  <style>","    * {","      box-sizing: border-box;","      margin: 0;","      padding: 0;","      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;","    }","","    body {","      background-color: #f4f4f4;","      color: #333;","    }","","    header {","      background-color: #0d6efd;","      padding: 20px;","      text-align: center;","      color: white;","      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);","    }","","    header h1 {","      font-size: 2rem;","      margin-bottom: 5px;","    }","","    main {","      padding: 20px;","      max-width: 1200px;","      margin: auto;","    }","","    #gallery {","      display: flex;","      flex-wrap: wrap;","      gap: 20px;","      justify-content: center;","      margin-top: 20px;","    }","","    #gallery img {","      width: 200px;","      height: auto;","      border-radius: 8px;","      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);","      transition: transform 0.3s ease, box-shadow 0.3s ease;","    }","","    #gallery img:hover {","      transform: scale(1.05);","      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);","    }","","    footer {","      text-align: center;","      padding: 15px;","      margin-top: 40px;","      color: #777;","    }","  </style>","</head>","<body>","  <header>","    <h1>üìÇ Galeria de Boletos</h1>","    <p>Documentos armazenados no Bucket S3</p>","  </header>","","  <main>","    <div id=\"gallery\">","      <!-- As imagens ser√£o inseridas aqui dinamicamente -->","    </div>","  </main>","","  <footer>","    &copy; 2025 - Projeto S3 Gallery","  </footer>","","  <script>","    // Fun√ß√£o para buscar as imagens","    async function fetchImages() {","      try {","        const response = await fetch('/get_images');","        const images = await response.json();","","        const gallery = document.getElementById('gallery');","        gallery.innerHTML = '';","","        images.forEach(imageUrl => {","          const img = document.createElement('img');","          img.src = imageUrl;","          img.alt = 'Imagem do S3';","          gallery.appendChild(img);","        });","      } catch (error) {","        console.error('Erro ao carregar as imagens:', error);","      }","    }","","    window.onload = fetchImages;","  </script>","</body>","</html>",""]}],[{"start":{"row":73,"column":8},"end":{"row":74,"column":6},"action":"insert","lines":["","      "],"id":14}],[{"start":{"row":74,"column":5},"end":{"row":74,"column":6},"action":"remove","lines":[" "],"id":15}],[{"start":{"row":74,"column":4},"end":{"row":74,"column":5},"action":"remove","lines":[" "],"id":17}],[{"start":{"row":74,"column":4},"end":{"row":77,"column":7},"action":"insert","lines":["<form id=\"uploadForm\" enctype=\"multipart/form-data\">","  <input type=\"file\" name=\"file\" id=\"fileInput\" required />","  <button type=\"submit\">üì§ Enviar Documento</button>","</form>"],"id":18}],[{"start":{"row":75,"column":2},"end":{"row":75,"column":6},"action":"insert","lines":["    "],"id":19}],[{"start":{"row":76,"column":2},"end":{"row":76,"column":6},"action":"insert","lines":["    "],"id":20}],[{"start":{"row":77,"column":0},"end":{"row":77,"column":4},"action":"insert","lines":["    "],"id":21}],[{"start":{"row":84,"column":18},"end":{"row":84,"column":25},"action":"remove","lines":["Projeto"],"id":22},{"start":{"row":84,"column":18},"end":{"row":84,"column":19},"action":"insert","lines":["P"]},{"start":{"row":84,"column":19},"end":{"row":84,"column":20},"action":"insert","lines":["r"]},{"start":{"row":84,"column":20},"end":{"row":84,"column":21},"action":"insert","lines":["o"]},{"start":{"row":84,"column":21},"end":{"row":84,"column":22},"action":"insert","lines":["v"]},{"start":{"row":84,"column":22},"end":{"row":84,"column":23},"action":"insert","lines":["a"]}],[{"start":{"row":84,"column":23},"end":{"row":84,"column":24},"action":"insert","lines":["-"],"id":23},{"start":{"row":84,"column":24},"end":{"row":84,"column":25},"action":"insert","lines":["1"]}],[{"start":{"row":64,"column":5},"end":{"row":65,"column":0},"action":"insert","lines":["",""],"id":24},{"start":{"row":65,"column":0},"end":{"row":65,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":65,"column":4},"end":{"row":77,"column":0},"action":"insert","lines":["form {","  margin-bottom: 30px;","  display: flex;","  flex-direction: column;","  align-items: center;","}","","form input, form button {","  margin: 10px;","  padding: 10px;","  font-size: 1rem;","}",""],"id":25}],[{"start":{"row":71,"column":0},"end":{"row":71,"column":4},"action":"insert","lines":["    "],"id":26},{"start":{"row":72,"column":0},"end":{"row":72,"column":4},"action":"insert","lines":["    "]},{"start":{"row":73,"column":0},"end":{"row":73,"column":4},"action":"insert","lines":["    "]},{"start":{"row":74,"column":0},"end":{"row":74,"column":4},"action":"insert","lines":["    "]},{"start":{"row":75,"column":0},"end":{"row":75,"column":4},"action":"insert","lines":["    "]},{"start":{"row":76,"column":0},"end":{"row":76,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":66,"column":0},"end":{"row":66,"column":4},"action":"insert","lines":["    "],"id":27},{"start":{"row":67,"column":0},"end":{"row":67,"column":4},"action":"insert","lines":["    "]},{"start":{"row":68,"column":0},"end":{"row":68,"column":4},"action":"insert","lines":["    "]},{"start":{"row":69,"column":0},"end":{"row":69,"column":4},"action":"insert","lines":["    "]},{"start":{"row":70,"column":0},"end":{"row":70,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":87,"column":0},"end":{"row":90,"column":11},"action":"remove","lines":["    <form id=\"uploadForm\" enctype=\"multipart/form-data\">","      <input type=\"file\" name=\"file\" id=\"fileInput\" required />","      <button type=\"submit\">üì§ Enviar Documento</button>","    </form>"],"id":28},{"start":{"row":87,"column":0},"end":{"row":94,"column":10},"action":"insert","lines":["<section id=\"upload-section\" style=\"margin-bottom: 40px; text-align:center;\">","  <h2>üì§ Enviar novo boleto</h2>","  <form id=\"upload-form\" enctype=\"multipart/form-data\">","    <input type=\"file\" name=\"file\" accept=\"image/*,.pdf\" required />","    <button type=\"submit\">Enviar</button>","  </form>","  <p id=\"upload-msg\" style=\"margin-top:10px;\"></p>","</section>"]}],[{"start":{"row":87,"column":0},"end":{"row":87,"column":4},"action":"insert","lines":["    "],"id":29},{"start":{"row":88,"column":0},"end":{"row":88,"column":4},"action":"insert","lines":["    "]},{"start":{"row":89,"column":0},"end":{"row":89,"column":4},"action":"insert","lines":["    "]},{"start":{"row":90,"column":0},"end":{"row":90,"column":4},"action":"insert","lines":["    "]},{"start":{"row":91,"column":0},"end":{"row":91,"column":4},"action":"insert","lines":["    "]},{"start":{"row":92,"column":0},"end":{"row":92,"column":4},"action":"insert","lines":["    "]},{"start":{"row":93,"column":0},"end":{"row":93,"column":4},"action":"insert","lines":["    "]},{"start":{"row":94,"column":0},"end":{"row":94,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":126,"column":11},"end":{"row":127,"column":0},"action":"insert","lines":["",""],"id":30},{"start":{"row":127,"column":0},"end":{"row":127,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":127,"column":2},"end":{"row":148,"column":9},"action":"insert","lines":["<script>","  document.getElementById(\"upload-form\").addEventListener(\"submit\", async function (e) {","    e.preventDefault();","    ","    const formData = new FormData();","    const fileInput = this.querySelector('input[type=\"file\"]');","    formData.append(\"file\", fileInput.files[0]);","","    const response = await fetch(\"/upload\", {","      method: \"POST\",","      body: formData","    });","","    const result = await response.json();","    document.getElementById(\"upload-msg\").innerText = result.message;","    ","    if (response.ok) {","      fileInput.value = '';","      fetchImages(); // Recarrega a galeria com o novo arquivo","    }","  });","</script>"],"id":31}]]},"ace":{"folds":[],"scrolltop":1500.4000047084266,"scrollleft":0,"selection":{"start":{"row":148,"column":9},"end":{"row":148,"column":9},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":6,"state":"css-start","mode":"ace/mode/html"}},"timestamp":1744556842343,"hash":"8206a5dd5337498e49ac69c042149051e642cc80"}